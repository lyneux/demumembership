<%= form_for @member do |f| %>
  <% if @member.errors.any? %>
  <div id="errorExplanation">
    <h2><%= pluralize(@member.errors.count, "error") %> prohibited this member from being saved:</h2>
    <ul>
    <% @member.errors.full_messages.each do |msg| %>
      <li><%= msg %></li>
    <% end %>
    </ul>
  </div>
  <% end %>

  <h2>Member Details</h2>
  <p>
    <%= f.label :forename %><br>
    <%= f.text_field :forename %>
  </p>

  <p>
    <%= f.label :surname %><br>
    <%= f.text_field :surname %>
  </p>

  <p>
    <%= f.label :member_category %><br>
    <%= collection_select(:member, :member_category_id, MemberCategory.all, :id, :description) %>
  </p>

  <p>
    <%= f.label :notes %><br>
    <%= f.text_area :notes %>
  </p>

  <h2>Source Details</h2>
  <p>
    <%= f.label :source_channel %><br>
    <%= collection_select(:member, :source_channel_id, SourceChannel.all, :id, :channel) %>
  </p>

  <p>
    <%= f.label :signup_source %><br>
    <%= f.text_field :signup_source %>
  </p>

  <h2>Contact Details</h2>
  <%= fields_for @contact_details do |c| %>

    <p>
      <%= c.label :address_line_1 %><br>
      <%= c.text_field :address_line_1 %>
    </p>

    <p>
      <%= c.label :address_line_2 %><br>
      <%= c.text_field :address_line_2 %>
    </p>

    <p>
      <%= c.label :address_line_3 %><br>
      <%= c.text_field :address_line_3 %>
    </p>

    <p>
      <%= c.label :town %><br>
      <%= c.text_field :town %>
    </p>

    <p>
      <%= c.label :county %><br>
      <%= c.text_field :county %>
    </p>

    <p>
      <%= c.label :postcode %><br>
      <%= c.text_field :postcode %>
    </p>

    <p>
      <%= c.label :country %><br>
      
      <%= c.country_select :country, ["United Kingdom"] %>
    </p>

    <p>
      <%= c.label :telephone %><br>
      <%= c.text_field :telephone %>
    </p>

    <p>
      <%= c.label :email %><br>
      <%= c.text_field :email %>
    </p>

  <% end %>

  <p>
    <%= f.submit %>
  </p>
<% end %>

